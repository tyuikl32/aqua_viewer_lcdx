<h1 class="page-heading">{{ 'Maimai2.Setting.Title' | translate }}</h1>


<div class="card mb-3" *ngIf="profile">
  <div class="card-header">
    {{ 'Maimai2.Setting.UserName' | translate }}
  </div>
  <div class="card-body">
    <h5 class="card-title">{{ 'Maimai2.Setting.UserNameTitle' | translate }}</h5>
    <form [formGroup]="userNameForm" (ngSubmit)="onSubmit()">
      <!-- <h2 class="card-text text-center">{{profile.userName}}</h2> -->
      <input type="text" class="form-control mb-3" id="username" formControlName="username">
    </form>
    <div class="d-flex justify-content-between align-items-center">
      <div class="text-muted small align-text-bottom">{{ 'Maimai2.Setting.UserNameSubTitle' | translate }}</div>
      <a (click)="userName()" class="btn btn-primary">{{ 'Maimai2.Setting.UserNameChangeButton' | translate }}</a>
    </div>
  </div>
</div>

<div class="card mb-3" *ngIf="profile">
  <div class="card-header">
    {{ 'Maimai2.Setting.UserIcon' | translate }}
  </div>
  <div class="card-body">
    <h5 class="card-title"></h5>
    <h5 class="card-text">
      You can upload image to server as your user portrait(a.k.a avatar) in game, but there are some limits:
      <ul>
        <li>(Cropped) Image file size &lt; <b>{{divMaxLength * 10}} kb</b>.</li>
        <li>Square image.</li>
      </ul>
      Compress once before loading image into web if you want to crop big picture.
    </h5>
    <div class="d-flex justify-content-between align-items-end">
      <div></div>
      <a (click)="openUploadUserPortraitDialog()" class="btn btn-primary">{{ 'Maimai2.Setting.UserIconChangeButton' | translate }}</a>
    </div>
  </div>
</div>

<div class="card mb-3" *ngIf="profile">
  <div class="card-header">
    {{ 'Maimai2.Setting.RedemptionCode' | translate }}
  </div>
  <div class="card-body">
    <h5 class="card-title">{{ 'Maimai2.Setting.RedemptionCodeTitle' | translate }}</h5>
    <form [formGroup]="redeemCodeForm" (ngSubmit)="onSubmit()">
      <input type="text" class="form-control mb-3" id="redeemCode" formControlName="redeemCode">
    </form>
    <div class="d-flex justify-content-between align-items-center">
      <div class="text-muted small align-text-bottom">{{ 'Maimai2.Setting.RedemptionCodeSubTitle' | translate }}</div>
      <a (click)="activateRedeemCode()" class="btn btn-primary">{{ 'Maimai2.Setting.RedeemButton' | translate }}</a>
    </div>
  </div>
</div>

<div class="card mb-3" *ngIf="profile">
  <div class="card-header text-danger">
    {{ 'Maimai2.Setting.ExportData' | translate }}
  <div class="card-header">
    绑定的卡号
  </div>
  <div class="card-body">
    <h5 class="card-title">绑定一张Aime卡到现在的账号，可以使用该Aime卡访问登录这个游戏档案</h5>
    <form [formGroup]="bindCardForm" (ngSubmit)="onSubmit()">
      <input type="text" class="form-control mb-3" id="accessCode" formControlName="accessCode">
    </form>
    <div class="d-flex justify-content-between align-items-center">
      <div class="text-muted small align-text-bottom">*请输入20位数字<br>*解除绑定后，你的Aime卡将会回复到原先的档案。</div>
      <a (click)="lcdxBindAccessCode()" class="btn btn-primary">{{currentAccessCode==""?"尝试绑定":"解除绑定"}}</a>
    </div>
  </div>
</div>

